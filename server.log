
> motion-connect@0.1.0 dev
> next dev

 ⚠ Port 3000 is in use, trying 3001 instead.
  ▲ Next.js 14.2.15
  - Local:        http://localhost:3001
  - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 1364ms
 ✓ Compiled /src/middleware in 254ms (72 modules)
 ✓ Compiled /api/admin/employees in 440ms (170 modules)
🚀 Starting admin employees API request
🔧 Environment check: {
  hasSupabaseUrl: true,
  hasServiceRoleKey: true,
  supabaseUrl: 'https://uxfjjquhbksv...'
}
🔑 Authorization header: Present
👤 User ID: 550e8400-e29b-41d4-a716-446655440000
🔌 Creating Supabase client...
✅ Supabase client created
🔍 Checking user permissions...
👤 User profile: { role: 'admin' }
📋 Fetching employees...
👥 조회된 직원 수: 10
🏖️ Fetching leave data...
📋 조회된 휴가 데이터 수: 10
📋 첫 번째 휴가 데이터 샘플: {
  user_id: '550e8400-e29b-41d4-a716-446655440002',
  leave_types: {
    sick_days: 60,
    annual_days: 17,
    used_sick_days: 1,
    used_annual_days: 9,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 1.5
  }
}
👤 김성호 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 5,
    annual_days: 19,
    used_sick_days: 0,
    used_annual_days: 0,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 0
  },
  annual_days: 19,
  used_annual_days: 0,
  sick_days: 5,
  used_sick_days: 0
}
👤 김경은 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: { substitute_leave_hours: 8, compensatory_leave_hours: 23 },
  annual_days: undefined,
  used_annual_days: undefined,
  sick_days: undefined,
  used_sick_days: undefined
}
👤 한종운 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 17,
    used_sick_days: 1,
    used_annual_days: 9,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 1.5
  },
  annual_days: 17,
  used_annual_days: 9,
  sick_days: 60,
  used_sick_days: 1
}
👤 노현태 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 16,
    used_sick_days: 0,
    used_annual_days: 0,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 0
  },
  annual_days: 16,
  used_annual_days: 0,
  sick_days: 60,
  used_sick_days: 0
}
👤 박종호 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 16,
    used_sick_days: 0,
    used_annual_days: 0,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 0
  },
  annual_days: 16,
  used_annual_days: 0,
  sick_days: 60,
  used_sick_days: 0
}
👤 이재혁 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 15,
    used_sick_days: 1,
    used_annual_days: 10,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 12
  },
  annual_days: 15,
  used_annual_days: 10,
  sick_days: 60,
  used_sick_days: 1
}
👤 허지현 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 14,
    used_sick_days: 0,
    used_annual_days: 9,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 0
  },
  annual_days: 14,
  used_annual_days: 9,
  sick_days: 60,
  used_sick_days: 0
}
👤 유희수 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 14,
    used_sick_days: 2,
    used_annual_days: 14,
    substitute_leave_hours: 7,
    compensatory_leave_hours: 0
  },
  annual_days: 14,
  used_annual_days: 14,
  sick_days: 60,
  used_sick_days: 2
}
👤 윤서랑 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 12,
    used_sick_days: 1,
    used_annual_days: 8,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 34
  },
  annual_days: 12,
  used_annual_days: 8,
  sick_days: 60,
  used_sick_days: 1
}
👤 장현수 휴가 데이터: {
  hasLeaveData: true,
  leaveTypes: {
    sick_days: 60,
    annual_days: 1,
    used_sick_days: 0,
    used_annual_days: 0,
    substitute_leave_hours: 0,
    compensatory_leave_hours: 0
  },
  annual_days: 1,
  used_annual_days: 0,
  sick_days: 60,
  used_sick_days: 0
}
👥 Supabase 직원 목록 조회 완료: 10 명
✅ API request completed successfully
 GET /api/admin/employees 200 in 1240ms
 ✓ Compiled in 138ms (170 modules)
 ✓ Compiled in 59ms (170 modules)
 ✓ Compiled in 240ms (274 modules)
 ✓ Compiled in 74ms (274 modules)
 ✓ Compiled in 124ms (274 modules)
 ✓ Compiled in 354ms (274 modules)
 ✓ Compiled in 125ms (274 modules)
 ✓ Compiled in 237ms (274 modules)
 ✓ Compiled in 112ms (274 modules)
 ✓ Compiled in 113ms (274 modules)
 ✓ Compiled in 96ms (274 modules)
 ✓ Compiled in 114ms (274 modules)
 ✓ Compiled in 138ms (274 modules)
 ✓ Compiled in 89ms (274 modules)
 ✓ Compiled in 61ms (274 modules)
 ✓ Compiled in 95ms (274 modules)
 ✓ Compiled in 72ms (274 modules)
 ✓ Compiled in 67ms (274 modules)
 ✓ Compiled in 148ms (274 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/lewis/Desktop/HR System/motion-connect/.next/cache/webpack/client-development/2.pack.gz_' -> '/Users/lewis/Desktop/HR System/motion-connect/.next/cache/webpack/client-development/2.pack.gz'
 ○ Compiling /_error ...
 ✓ Compiled /_error in 851ms (437 modules)
led in 93ms (274 modules)
 ✓ Compiled in 72ms (274 modules)
 ✓ Compiled in 90ms (274 modules)
 ✓ Compiled in 152ms (274 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/lewis/Desktop/HR System/motion-connect/.next/cache/webpack/edge-server-development/1.pack.gz_' -> '/Users/lewis/Desktop/HR System/motion-connect/.next/cache/webpack/edge-server-development/1.pack.gz'
sense.co.kr)
❌ 장현수 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 김경은 (ke.kim@motionsense.co.kr)
❌ 김경은 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 한종운 (jw.han@motionsense.co.kr)
❌ 한종운 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 노현태 (ht.no@motionsense.co.kr)
❌ 노현태 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 박종호 (jh.park@motionsense.co.kr)
❌ 박종호 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 이재혁 (jh.lee@motionsense.co.kr)
❌ 이재혁 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 허지현 (jh.heo@motionsense.co.kr)
❌ 허지현 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 유희수 (hs.ryoo@motionsense.co.kr)
❌ 유희수 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
처리 중: 윤서랑 (sr.yun@motionsense.co.kr)
❌ 윤서랑 업데이트 실패: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'annual_days' column of 'users' in the schema cache"
}
🎉 마이그레이션 완료!
 POST /api/admin/migrate-leave-columns 200 in 1169ms
 ✓ Compiled in 13ms
 ✓ Compiled in 271ms (274 modules)
 ✓ Compiled in 197ms (274 modules)
